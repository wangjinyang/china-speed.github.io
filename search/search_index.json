{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u8ba1\u7b97\u673a\u6280\u672f\u5206\u4eab\uff1a\u4e2d\u56fd\u901f\u5ea6 \u7531\u4e8e apt\u3001composer\u3001nodejs \u7b49\u5e38\u7528\u5de5\u5177\u5728\u56fd\u5916\uff0c\u4e0b\u8f7d\u901f\u5ea6\u8f83\u6162\uff0c\u672c\u7ad9\u5206\u4eab\u56fd\u5185\u955c\u50cf\u52a0\u901f\u4fe1\u606f\uff0c\u8ba9\u5f00\u53d1\u8005\u611f\u53d7\u300c\u4e2d\u56fd\u901f\u5ea6\u300d\u3002 apt ubuntu find /etc/apt/ -name *.list -print0 | sudo xargs -0 sed -i 's/[a-z]\\+.ubuntu.com/mirrors.aliyun.com/g' find /etc/apt/ -name *.list -print0 | sudo xargs -0 sed -i 's/[a-z]\\+..ubuntu.com/mirrors.cloud.tencent.com/g' apt debian \u6ce8\u610f\uff1aapt \u4f7f\u7528 HTTP\uff0c\u963f\u91cc\u4e91\u3001\u817e\u8baf\u4e91\u7684\u6e90\u90fd\u652f\u6301\uff1b\u5982\u679c\u7528\u4e86 HTTPS \u6e90\uff0c\u5219 debian docker \u9700\u8981\u989d\u5916\u5b89\u88c5 ca-certificates\uff0c\u5bfc\u81f4\u4f53\u79ef\u53d8\u5927\u3002 find /etc/apt/ -name *.list -print0 | xargs -0 sed -i 's/[a-z]\\+.debian.org/mirrors.aliyun.com/g' find /etc/apt/ -name *.list -print0 | xargs -0 sed -i 's/[a-z]\\+.debian.org/mirrors.cloud.tencent.com/g' get docker # https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-using-the-convenience-script curl -fsSL https://get.docker.com | sudo sh -s -- --mirror Aliyun # curl -fsSL http://get.docker.com.mirrors.china-speed.org.cn | sudo sh -- sudo usermod -aG docker $USER docker hub sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json -'EOF' { registry-mirrors : [ https://dockerhub.azk8s.cn , https://hub-mirror.c.163.com ] } EOF sudo service docker restart docker info docker Azure \u76ee\u524d *.azk8s.cn \u5df2\u7ecf\u4ec5\u9650\u4e8e Azure China IP \u4f7f\u7528\uff0c\u4e0d\u518d\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002\u53c2\u8003\uff1a Azure/container-service-for-azure-china#60 # docker pull mcr.microsoft.com/dotnet/core/runtime:3.1 # docker pull mcr.azk8s.cn/dotnet/core/runtime:3.1 # docker pull gcr.io/google_containers/hyperkube-amd64:v1.9.2 # docker pull gcr.azk8s.cn/google_containers/hyperkube-amd64:v1.9.2 get kubectl # https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl-on-linux curl -LO http://storage.googleapis.com.mirrors.china-speed.org.cn/kubernetes-release/release/v1.16.3/bin/linux/amd64/kubectl chmod +x ./kubectl sudo mv ./kubectl /usr/local/bin/kubectl kubectl version get composer curl -sS http://getcomposer.org.mirrors.china-speed.org.cn/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer composer composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/ composer config -g --unset repos.packagist composer install when lock exists url_suffix='.dist.mirrors[0].url= https://mirrors.aliyun.com/composer/dists/%package%/%reference%.%type% ' jq '. packages []' $url_suffix composer.lock \\ | jq '. packages [].dist.mirrors[0].preferred=true' \\ | jq '. packages-dev []' $url_suffix \\ | jq --indent 4 '. packages-dev [].dist.mirrors[0].preferred=true' composer.lock.tmp mv composer.lock.tmp composer.lock get nodejs npm curl -sL https://deb.nodesource.com.mirrors.china-speed.org.cn/setup_12.x | sudo -E bash - npm \u6ce8\u610f\uff1a npm install \u4e0d\u4f7f\u7528 package-lock.json \u4e2d\u7684\u5b8c\u6574\u4e0b\u8f7d\u94fe\u63a5\uff08resolved \u5b57\u6bb5\uff09\uff0c\u800c\u662f\u4f7f\u7528 config registry\u3002 npm config set registry https://registry.npm.taobao.org npm config set disturl https://npm.taobao.org/dist npm config set electron_mirror https://npm.taobao.org/mirrors/electron/ npm config set sass_binary_site https://npm.taobao.org/mirrors/node-sass/ npm config set phantomjs_cdnurl https://npm.taobao.org/mirrors/phantomjs/ # npm config set registry https://mirrors.cloud.tencent.com/npm/ # npm config set sass_binary_site https://mirrors.cloud.tencent.com/npm/node-sass # npm config delete registry pip mkdir ~/.pip cat ~/.pip/pip.conf \\EOF [global] index-url=https://pypi.doubanio.com/simple/ #index-url=https://mirrors.aliyun.com/pypi/simple/ #index-url=https://mirrors.cloud.tencent.com/pypi/simple/ EOF go # goproxy.io \u91c7\u7528 \u817e\u8baf\u4e91\u9999\u6e2f # go env -w GOPROXY=https://goproxy.io,direct # goproxy.cn \u91c7\u7528 \u4e03\u725b\u5927\u9646 CDN go env -w GOPROXY=https://goproxy.cn,direct gradle sed -i 's/services.gradle.org/downloads.gradle-dn.com/g' ./gradle/wrapper/gradle-wrapper.properties gradle maven mkdir ~/.gradle cat ~/.gradle/init.gradle \\EOF def repoConfig = { all { ArtifactRepository repo - if (repo instanceof MavenArtifactRepository) { def url = repo.url.toString() if (url.contains('repo1.maven.org/maven2') || url.contains('jcenter.bintray.com') // google maven \u5df2\u5728\u4e2d\u56fd\u843d\u5730\uff0c\u65e0\u9700\u955c\u50cf // || url.contains('maven.google.com') || url.contains('plugins.gradle.org/m2') || url.contains('repo.spring.io/libs-milestone') || url.contains('repo.spring.io/plugins-release') || url.contains('repo.grails.org/grails/core') || url.contains('repository.apache.org/snapshots') ) { println gradle init: [buildscript.repositories] (${repo.name}: ${repo.url}) removed remove repo } } } // \u817e\u8baf\u4e91 maven \u955c\u50cf\u805a\u5408\u4e86\uff1acentral\u3001jcenter\u3001google\u3001gradle-plugin maven { url 'http://mirrors.cloud.tencent.com/nexus/repository/maven-public/' } // \u963f\u91cc\u4e91 https://help.aliyun.com/document_detail/102512.html maven { url 'https://maven.aliyun.com/repository/central' } maven { url 'https://maven.aliyun.com/repository/jcenter' } maven { url 'https://maven.aliyun.com/repository/google' } maven { url 'https://maven.aliyun.com/repository/gradle-plugin' } maven { url 'https://maven.aliyun.com/repository/spring' } maven { url 'https://maven.aliyun.com/repository/spring-plugin' } maven { url 'https://maven.aliyun.com/repository/grails-core' } maven { url 'https://maven.aliyun.com/repository/apache-snapshots' } } allprojects { buildscript { repositories repoConfig } repositories repoConfig } EOF maven sudo vi /etc/maven/settings.xml mirrors mirror id tencent-maven /id mirrorOf * /mirrorOf name \u817e\u8baf\u4e91\u516c\u5171\u4ed3\u5e93 /name url http://mirrors.cloud.tencent.com/nexus/repository/maven-public/ /url /mirror /mirrors gem gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ gem sources -l # \u786e\u4fdd\u8f93\u51fa\u53ea\u6709 gems.ruby-china.com \u4e00\u4e2a bundle bundle config mirror.https://rubygems.org https://gems.ruby-china.com acknowledgements \u611f\u8c22 \u817e\u8baf\u4e91 \u3001 \u4e03\u725b\u4e91 \u63d0\u4f9b\u4e91\u5b58\u50a8\u548c\u56fd\u5185 CDN\u3002 \u611f\u8c22 CODING \u6301\u7eed\u96c6\u6210 \u63d0\u4f9b\u514d\u8d39\u7684 Jenkins \u4e91\u670d\u52a1\u3002 \u901a\u8fc7\u4e0a\u8ff0\u9080\u8bf7\u94fe\u63a5\u6ce8\u518c\uff0c\u672c\u7ad9\u5c06\u83b7\u5f97\u6d41\u91cf\u5956\u52b1\uff0c\u4f9b\u5927\u5bb6\u4e0b\u8f7d\u4f7f\u7528\u3002","title":"China Speed"},{"location":"#_1","text":"\u7531\u4e8e apt\u3001composer\u3001nodejs \u7b49\u5e38\u7528\u5de5\u5177\u5728\u56fd\u5916\uff0c\u4e0b\u8f7d\u901f\u5ea6\u8f83\u6162\uff0c\u672c\u7ad9\u5206\u4eab\u56fd\u5185\u955c\u50cf\u52a0\u901f\u4fe1\u606f\uff0c\u8ba9\u5f00\u53d1\u8005\u611f\u53d7\u300c\u4e2d\u56fd\u901f\u5ea6\u300d\u3002","title":"\u8ba1\u7b97\u673a\u6280\u672f\u5206\u4eab\uff1a\u4e2d\u56fd\u901f\u5ea6"},{"location":"#apt-ubuntu","text":"find /etc/apt/ -name *.list -print0 | sudo xargs -0 sed -i 's/[a-z]\\+.ubuntu.com/mirrors.aliyun.com/g' find /etc/apt/ -name *.list -print0 | sudo xargs -0 sed -i 's/[a-z]\\+..ubuntu.com/mirrors.cloud.tencent.com/g'","title":"apt ubuntu"},{"location":"#apt-debian","text":"\u6ce8\u610f\uff1aapt \u4f7f\u7528 HTTP\uff0c\u963f\u91cc\u4e91\u3001\u817e\u8baf\u4e91\u7684\u6e90\u90fd\u652f\u6301\uff1b\u5982\u679c\u7528\u4e86 HTTPS \u6e90\uff0c\u5219 debian docker \u9700\u8981\u989d\u5916\u5b89\u88c5 ca-certificates\uff0c\u5bfc\u81f4\u4f53\u79ef\u53d8\u5927\u3002 find /etc/apt/ -name *.list -print0 | xargs -0 sed -i 's/[a-z]\\+.debian.org/mirrors.aliyun.com/g' find /etc/apt/ -name *.list -print0 | xargs -0 sed -i 's/[a-z]\\+.debian.org/mirrors.cloud.tencent.com/g'","title":"apt debian"},{"location":"#get-docker","text":"# https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-using-the-convenience-script curl -fsSL https://get.docker.com | sudo sh -s -- --mirror Aliyun # curl -fsSL http://get.docker.com.mirrors.china-speed.org.cn | sudo sh -- sudo usermod -aG docker $USER","title":"get docker"},{"location":"#docker-hub","text":"sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json -'EOF' { registry-mirrors : [ https://dockerhub.azk8s.cn , https://hub-mirror.c.163.com ] } EOF sudo service docker restart docker info","title":"docker hub"},{"location":"#docker-azure","text":"\u76ee\u524d *.azk8s.cn \u5df2\u7ecf\u4ec5\u9650\u4e8e Azure China IP \u4f7f\u7528\uff0c\u4e0d\u518d\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002\u53c2\u8003\uff1a Azure/container-service-for-azure-china#60 # docker pull mcr.microsoft.com/dotnet/core/runtime:3.1 # docker pull mcr.azk8s.cn/dotnet/core/runtime:3.1 # docker pull gcr.io/google_containers/hyperkube-amd64:v1.9.2 # docker pull gcr.azk8s.cn/google_containers/hyperkube-amd64:v1.9.2","title":"docker Azure"},{"location":"#get-kubectl","text":"# https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl-on-linux curl -LO http://storage.googleapis.com.mirrors.china-speed.org.cn/kubernetes-release/release/v1.16.3/bin/linux/amd64/kubectl chmod +x ./kubectl sudo mv ./kubectl /usr/local/bin/kubectl kubectl version","title":"get kubectl"},{"location":"#get-composer","text":"curl -sS http://getcomposer.org.mirrors.china-speed.org.cn/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer","title":"get composer"},{"location":"#composer","text":"composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/ composer config -g --unset repos.packagist","title":"composer"},{"location":"#composer-install-when-lock-exists","text":"url_suffix='.dist.mirrors[0].url= https://mirrors.aliyun.com/composer/dists/%package%/%reference%.%type% ' jq '. packages []' $url_suffix composer.lock \\ | jq '. packages [].dist.mirrors[0].preferred=true' \\ | jq '. packages-dev []' $url_suffix \\ | jq --indent 4 '. packages-dev [].dist.mirrors[0].preferred=true' composer.lock.tmp mv composer.lock.tmp composer.lock","title":"composer install when lock exists"},{"location":"#get-nodejs-npm","text":"curl -sL https://deb.nodesource.com.mirrors.china-speed.org.cn/setup_12.x | sudo -E bash -","title":"get nodejs npm"},{"location":"#npm","text":"\u6ce8\u610f\uff1a npm install \u4e0d\u4f7f\u7528 package-lock.json \u4e2d\u7684\u5b8c\u6574\u4e0b\u8f7d\u94fe\u63a5\uff08resolved \u5b57\u6bb5\uff09\uff0c\u800c\u662f\u4f7f\u7528 config registry\u3002 npm config set registry https://registry.npm.taobao.org npm config set disturl https://npm.taobao.org/dist npm config set electron_mirror https://npm.taobao.org/mirrors/electron/ npm config set sass_binary_site https://npm.taobao.org/mirrors/node-sass/ npm config set phantomjs_cdnurl https://npm.taobao.org/mirrors/phantomjs/ # npm config set registry https://mirrors.cloud.tencent.com/npm/ # npm config set sass_binary_site https://mirrors.cloud.tencent.com/npm/node-sass # npm config delete registry","title":"npm"},{"location":"#pip","text":"mkdir ~/.pip cat ~/.pip/pip.conf \\EOF [global] index-url=https://pypi.doubanio.com/simple/ #index-url=https://mirrors.aliyun.com/pypi/simple/ #index-url=https://mirrors.cloud.tencent.com/pypi/simple/ EOF","title":"pip"},{"location":"#go","text":"# goproxy.io \u91c7\u7528 \u817e\u8baf\u4e91\u9999\u6e2f # go env -w GOPROXY=https://goproxy.io,direct # goproxy.cn \u91c7\u7528 \u4e03\u725b\u5927\u9646 CDN go env -w GOPROXY=https://goproxy.cn,direct","title":"go"},{"location":"#gradle","text":"sed -i 's/services.gradle.org/downloads.gradle-dn.com/g' ./gradle/wrapper/gradle-wrapper.properties","title":"gradle"},{"location":"#gradle-maven","text":"mkdir ~/.gradle cat ~/.gradle/init.gradle \\EOF def repoConfig = { all { ArtifactRepository repo - if (repo instanceof MavenArtifactRepository) { def url = repo.url.toString() if (url.contains('repo1.maven.org/maven2') || url.contains('jcenter.bintray.com') // google maven \u5df2\u5728\u4e2d\u56fd\u843d\u5730\uff0c\u65e0\u9700\u955c\u50cf // || url.contains('maven.google.com') || url.contains('plugins.gradle.org/m2') || url.contains('repo.spring.io/libs-milestone') || url.contains('repo.spring.io/plugins-release') || url.contains('repo.grails.org/grails/core') || url.contains('repository.apache.org/snapshots') ) { println gradle init: [buildscript.repositories] (${repo.name}: ${repo.url}) removed remove repo } } } // \u817e\u8baf\u4e91 maven \u955c\u50cf\u805a\u5408\u4e86\uff1acentral\u3001jcenter\u3001google\u3001gradle-plugin maven { url 'http://mirrors.cloud.tencent.com/nexus/repository/maven-public/' } // \u963f\u91cc\u4e91 https://help.aliyun.com/document_detail/102512.html maven { url 'https://maven.aliyun.com/repository/central' } maven { url 'https://maven.aliyun.com/repository/jcenter' } maven { url 'https://maven.aliyun.com/repository/google' } maven { url 'https://maven.aliyun.com/repository/gradle-plugin' } maven { url 'https://maven.aliyun.com/repository/spring' } maven { url 'https://maven.aliyun.com/repository/spring-plugin' } maven { url 'https://maven.aliyun.com/repository/grails-core' } maven { url 'https://maven.aliyun.com/repository/apache-snapshots' } } allprojects { buildscript { repositories repoConfig } repositories repoConfig } EOF","title":"gradle maven"},{"location":"#maven","text":"sudo vi /etc/maven/settings.xml mirrors mirror id tencent-maven /id mirrorOf * /mirrorOf name \u817e\u8baf\u4e91\u516c\u5171\u4ed3\u5e93 /name url http://mirrors.cloud.tencent.com/nexus/repository/maven-public/ /url /mirror /mirrors","title":"maven"},{"location":"#gem","text":"gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ gem sources -l # \u786e\u4fdd\u8f93\u51fa\u53ea\u6709 gems.ruby-china.com \u4e00\u4e2a","title":"gem"},{"location":"#bundle","text":"bundle config mirror.https://rubygems.org https://gems.ruby-china.com","title":"bundle"},{"location":"#acknowledgements","text":"\u611f\u8c22 \u817e\u8baf\u4e91 \u3001 \u4e03\u725b\u4e91 \u63d0\u4f9b\u4e91\u5b58\u50a8\u548c\u56fd\u5185 CDN\u3002 \u611f\u8c22 CODING \u6301\u7eed\u96c6\u6210 \u63d0\u4f9b\u514d\u8d39\u7684 Jenkins \u4e91\u670d\u52a1\u3002 \u901a\u8fc7\u4e0a\u8ff0\u9080\u8bf7\u94fe\u63a5\u6ce8\u518c\uff0c\u672c\u7ad9\u5c06\u83b7\u5f97\u6d41\u91cf\u5956\u52b1\uff0c\u4f9b\u5927\u5bb6\u4e0b\u8f7d\u4f7f\u7528\u3002","title":"acknowledgements"}]}